var mongoose = require('mongoose');

var databaseError;

mongoose.connect('mongodb://localhost:27017/cards');

mongoose.connection.on('error', function (error) {
    if (error) {
        console.log(error);
        databaseError = true;
    }
});

function getCardModel () {

    return mongoose.model('card', new mongoose.Schema({
        word : String,
        url : String
    }));
}

function isBroken () {

    return databaseError;
}

module.exports.isBroken = isBroken;
module.exports.getCardModel = getCardModel;
